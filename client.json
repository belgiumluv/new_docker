{
  "outbounds": [
    {
      "type": "selector",
      "tag": "Select",
      "outbounds": [
        "Auto",
        "kirieshki.duckdns.org reality vless § 43124",
        "kirieshki.duckdns.org tls WS vless § 443",
        "kirieshki.duckdns.org tls WS trojan § 443",
        "kirieshki.duckdns.org tls WS vmess § 443",
        "kirieshki.duckdns.org tls httpupgrade vless § 443",
        "kirieshki.duckdns.org tls httpupgrade vmess § 443",
        "kirieshki.duckdns.org tls tcp vless § 443",
        "kirieshki.duckdns.org tls tcp trojan § 443",
        "kirieshki.duckdns.org tls tcp vmess § 443",
        "kirieshki.duckdns.org tls grpc vless § 443",
        "kirieshki.duckdns.org tls grpc trojan § 443",
        "kirieshki.duckdns.org tls grpc vmess § 443",
        "kirieshki.duckdns.org http WS vless § 80",
        "kirieshki.duckdns.org http WS vmess § 80",
        "kirieshki.duckdns.org http httpupgrade vless § 80",
        "kirieshki.duckdns.org http httpupgrade vmess § 80",
        "kirieshki.duckdns.org http tcp vless § 80",
        "kirieshki.duckdns.org http tcp vmess § 80",
        "Hysteria2 50062",
        "kirieshki.duckdns.org ShadowSocks2022 § 44405",
        "kirieshki.duckdns.org TUIC § 55851"
      ],
      "default": "Auto"
    },
    {
      "type": "urltest",
      "tag": "Auto",
      "outbounds": [
        "kirieshki.duckdns.org reality vless § 43124",
        "kirieshki.duckdns.org tls WS vless § 443",
        "kirieshki.duckdns.org tls WS trojan § 443",
        "kirieshki.duckdns.org tls WS vmess § 443",
        "kirieshki.duckdns.org tls httpupgrade vless § 443",
        "kirieshki.duckdns.org tls httpupgrade vmess § 443",
        "kirieshki.duckdns.org tls tcp vless § 443",
        "kirieshki.duckdns.org tls tcp trojan § 443",
        "kirieshki.duckdns.org tls tcp vmess § 443",
        "kirieshki.duckdns.org tls grpc vless § 443",
        "kirieshki.duckdns.org tls grpc trojan § 443",
        "kirieshki.duckdns.org tls grpc vmess § 443",
        "kirieshki.duckdns.org http WS vless § 80",
        "kirieshki.duckdns.org http WS vmess § 80",
        "kirieshki.duckdns.org http httpupgrade vless § 80",
        "kirieshki.duckdns.org http httpupgrade vmess § 80",
        "kirieshki.duckdns.org http tcp vless § 80",
        "kirieshki.duckdns.org http tcp vmess § 80",
        "Hysteria2 50062",
        "kirieshki.duckdns.org ShadowSocks2022 § 44405",
        "kirieshki.duckdns.org TUIC § 55851"
      ],
      "url": "https://www.gstatic.com/generate_204",
      "interval": "10m",
      "tolerance": 200
    },

    { "tag": "direct", "type": "direct" },
    { "tag": "bypass", "type": "direct" },

    {
      "tag": "kirieshki.duckdns.org reality vless § 43124",
      "type": "vless",
      "server": "217.26.28.18",
      "server_port": 43124,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "flow": "xtls-rprx-vision",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "www.vk.com",
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" },
        "reality": {
          "enabled": true,
          "public_key": "1SA8eF8LlN2B8J8KpQvlv24tcsQ-anmaYrlDcK2N0Qk",
          "short_id": "ba3f7d16c063b1"
        }
      }
    },

    {
      "tag": "kirieshki.duckdns.org tls WS vless § 443",
      "type": "vless",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "ws",
        "path": "/assetsdwGEt7ovWnV3XPODMpGTfN",
        "early_data_header_name": "Sec-WebSocket-Protocol",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },
    {
      "tag": "kirieshki.duckdns.org tls WS trojan § 443",
      "type": "trojan",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "password": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "ws",
        "path": "/assetsbNRyNj0Ujf6EOmWmNVd3zH",
        "early_data_header_name": "Sec-WebSocket-Protocol",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },
    {
      "tag": "kirieshki.duckdns.org tls WS vmess § 443",
      "type": "vmess",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "alter_id": 0,
      "security": "auto",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "ws",
        "path": "/assetsCojjFdp7MuYob7yMMxirs6",
        "early_data_header_name": "Sec-WebSocket-Protocol",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },

    {
      "tag": "kirieshki.duckdns.org tls grpc vless § 443",
      "type": "vless",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["h2"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "grpc",
        "service_name": "api9txnJYMiR2cqBO3Wztsqns",
        "idle_timeout": "115s",
        "ping_timeout": "15s"
      }
    },
    {
      "tag": "kirieshki.duckdns.org tls grpc trojan § 443",
      "type": "trojan",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "password": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["h2"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "grpc",
        "service_name": "apiw1nBerNXPhonSQwTjl8dNt",
        "idle_timeout": "115s",
        "ping_timeout": "15s"
      }
    },
    {
      "tag": "kirieshki.duckdns.org tls grpc vmess § 443",
      "type": "vmess",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "alter_id": 0,
      "security": "auto",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["h2"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "grpc",
        "service_name": "apiBYWImxBuuIMaqsS7OPo7pO",
        "idle_timeout": "115s",
        "ping_timeout": "15s"
      }
    },

    {
      "tag": "kirieshki.duckdns.org tls httpupgrade vless § 443",
      "type": "vless",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "httpupgrade",
        "path": "/filesgWA2MjbXfOMqOMQSSv2080",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },
    {
      "tag": "kirieshki.duckdns.org tls httpupgrade vmess § 443",
      "type": "vmess",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "alter_id": 0,
      "security": "auto",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "httpupgrade",
        "path": "/files0IOiQ4DXdeMPn8zEx8wcHn",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },

    {
      "tag": "kirieshki.duckdns.org tls tcp vless § 443",
      "type": "vless",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "http",
        "path": "/userHhBKBMGsVnIhTdfTpkCuDf",
        "idle_timeout": "15s",
        "ping_timeout": "15s",
        "host": ["kirieshki.duckdns.org"]
      }
    },
    {
      "tag": "kirieshki.duckdns.org tls tcp trojan § 443",
      "type": "trojan",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "password": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "http",
        "path": "/userw2wPrDrCvkB5WE649xjCbL",
        "idle_timeout": "15s",
        "ping_timeout": "15s",
        "host": ["kirieshki.duckdns.org"]
      }
    },
    {
      "tag": "kirieshki.duckdns.org tls tcp vmess § 443",
      "type": "vmess",
      "server": "kirieshki.duckdns.org",
      "server_port": 443,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "alter_id": 0,
      "security": "auto",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["http/1.1"],
        "utls": { "enabled": true, "fingerprint": "chrome" }
      },
      "transport": {
        "type": "http",
        "path": "/user3UVt3uYU6XAOOikbpBm6ur",
        "idle_timeout": "15s",
        "ping_timeout": "15s",
        "host": ["kirieshki.duckdns.org"]
      }
    },

    {
      "tag": "kirieshki.duckdns.org http WS vless § 80",
      "type": "vless",
      "server": "kirieshki.duckdns.org",
      "server_port": 80,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "packet_encoding": "xudp",
      "transport": {
        "type": "ws",
        "path": "/assetsdwGEt7ovWnV3XPODMpGTfN",
        "early_data_header_name": "Sec-WebSocket-Protocol",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },
    {
      "tag": "kirieshki.duckdns.org http WS vmess § 80",
      "type": "vmess",
      "server": "kirieshki.duckdns.org",
      "server_port": 80,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "alter_id": 0,
      "security": "auto",
      "packet_encoding": "xudp",
      "transport": {
        "type": "ws",
        "path": "/assetsCojjFdp7MuYob7yMMxirs6",
        "early_data_header_name": "Sec-WebSocket-Protocol",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },
    {
      "tag": "kirieshki.duckdns.org http httpupgrade vless § 80",
      "type": "vless",
      "server": "kirieshki.duckdns.org",
      "server_port": 80,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "packet_encoding": "xudp",
      "transport": {
        "type": "httpupgrade",
        "path": "/filesgWA2MjbXfOMqOMQSSv2080",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },
    {
      "tag": "kirieshki.duckdns.org http httpupgrade vmess § 80",
      "type": "vmess",
      "server": "kirieshki.duckdns.org",
      "server_port": 80,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "alter_id": 0,
      "security": "auto",
      "packet_encoding": "xudp",
      "transport": {
        "type": "httpupgrade",
        "path": "/files0IOiQ4DXdeMPn8zEx8wcHn",
        "headers": { "Host": "kirieshki.duckdns.org" }
      }
    },
    {
      "tag": "kirieshki.duckdns.org http tcp vless § 80",
      "type": "vless",
      "server": "kirieshki.duckdns.org",
      "server_port": 80,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "packet_encoding": "xudp",
      "transport": {
        "type": "http",
        "path": "/userHhBKBMGsVnIhTdfTpkCuDf",
        "idle_timeout": "15s",
        "ping_timeout": "15s",
        "host": ["kirieshki.duckdns.org"]
      }
    },
    {
      "tag": "kirieshki.duckdns.org http tcp vmess § 80",
      "type": "vmess",
      "server": "kirieshki.duckdns.org",
      "server_port": 80,
      "uuid": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "alter_id": 0,
      "security": "auto",
      "packet_encoding": "xudp",
      "transport": {
        "type": "http",
        "path": "/user3UVt3uYU6XAOOikbpBm6ur",
        "idle_timeout": "15s",
        "ping_timeout": "15s",
        "host": ["kirieshki.duckdns.org"]
      }
    },

    {
      "tag": "Hysteria2 50062",
      "type": "hysteria2",
      "server": "217.26.28.18",
      "server_port": 50062,
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["h3"]
      },
      "up_mbps": null,
      "down_mbps": null,
      "obfs": { "type": "salamander", "password": "ffi6byDy9q6jXTySMk5NUB" },
      "password": "49d0abc0-15ec-4533-983e-f2cf0320ca23"
    },
    {
      "tag": "kirieshki.duckdns.org ShadowSocks2022 § 44405",
      "type": "shadowsocks",
      "server": "217.26.28.18",
      "server_port": 44405,
      "method": "2022-blake3-aes-256-gcm",
      "password": "203ry7mpV0VDe/6RnqIu2PbHCdZ2yg9XMYdg90uSGT0=:Tlu/zZp3d+dxHFFmyn12p2kafK7YC8dugnxf4/XAdTM=",
      "udp_over_tcp": { "enabled": true, "version": 2 }
    },
    {
      "tag": "kirieshki.duckdns.org TUIC § 55851",
      "type": "tuic",
      "server": "217.26.28.18",
      "server_port": 55851,
      "tls": {
        "enabled": true,
        "server_name": "kirieshki.duckdns.org",
        "insecure": true,
        "alpn": ["h3"]
      },
      "congestion_control": "cubic",
      "udp_relay_mode": "native",
      "zero_rtt_handshake": true,
      "heartbeat": "10s",
      "password": "RMoVCl0HnjGAmsm8jNY7Cw/kON7y+zbYTo+eHu4qdHA=",
      "uuid": "fe47abda-99f1-4eb2-9e35-baf9e061d59e"
    }
  ],

  "route": {
    "auto_detect_interface": true,
    "override_android_vpn": true,
    "final": "Select",
    "rule_set": [],
    "rules": [
      { "inbound": ["tun-in", "mixed-in"], "port": [53], "action": "hijack-dns" },
      { "inbound": ["dns-in"], "action": "hijack-dns" },
      { "inbound": ["tun-in", "mixed-in"], "action": "sniff", "timeout": "1s" },
      { "protocol": "quic", "port": [443], "action": "reject" },
      { "ip_cidr": ["224.0.0.0/3", "ff00::/8"], "outbound": "block", "source_ip_cidr": ["224.0.0.0/3", "ff00::/8"] }
    ]
  },

  "experimental": {
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "external_ui_download_url": "https://github.com/MetaCubeX/Yacd-meta/archive/gh-pages.zip"
    },
    "cache_file": {
      "enabled": true,
      "path": "cache.db",
      "cache_id": "49d0abc0-15ec-4533-983e-f2cf0320ca23",
      "store_fakeip": true
    }
  },

  "dns": {
    "servers": [
      { "address": "https://1.1.1.1/dns-query", "tag": "doh-1111", "strategy": "prefer_ipv4", "detour": "direct" },
      { "address": "tcp://1.1.1.1", "address_resolver": "dns-local", "strategy": "prefer_ipv4", "tag": "dns-remote", "detour": "Select" },
      { "address": "8.8.8.8", "detour": "direct", "tag": "dns-local" },
      { "address": "rcode://success", "tag": "dns-block" }
    ],
    "rules": [
      { "domain": ["github.com", "githubusercontent.com", "raw.githubusercontent.com", "1.1.1.1", "www.vk.com", "kirieshki.duckdns.org"], "server": "dns-local" },
      { "domain": ["kirieshki.duckdns.org", "www.google.com"], "server": "doh-1111" },
      { "outbound": "direct", "server": "dns-local" }
    ],
    "final": "doh-1111",
    "reverse_mapping": true,
    "strategy": "prefer_ipv4",
    "independent_cache": true
  },

  "inbounds": [
    { "listen": "127.0.0.1", "listen_port": 6450, "override_address": "8.8.8.8", "override_port": 53, "tag": "dns-in", "type": "direct" },
    { "type": "tun", "tag": "tun-in", "interface_name": "tun0", "address": ["172.19.0.1/30"], "mtu": 9000, "auto_route": true, "strict_route": true, "stack": "system", "endpoint_independent_nat": true },
    { "domain_strategy": "prefer_ipv4", "listen": "127.0.0.1", "listen_port": 2334, "sniff": true, "sniff_override_destination": false, "tag": "mixed-in", "type": "mixed" }
  ]
}
